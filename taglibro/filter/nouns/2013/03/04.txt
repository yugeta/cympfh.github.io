2013
年
3
月
4
日
月曜日
21
:
53
:
06
JST
最近
マクロ
こと
```
scheme
(
define
-
syntax
for
(
syntax
-
rules
(
where
in
)
((_
expr
where
i
in
ls
)
(
map
(
lambda
(
i
)
expr
)
ls
))
((_
expr
where
i
in
ls
cnd
)
(
filter
(
lambda
(
i
)
cnd
)
(
for
expr
where
i
in
ls
)))
((_
expr
where
i
in
ls
cnd
cnd
2
...)
(
filter
(
lambda
(
i
)
cnd
)
(
for
expr
where
i
in
ls
cnd
2
...)))
))
```
```
scheme
gosh
>
(
for
i
where
i
in
(
iota
10
))
(
0
1
2
3
4
5
6
7
8
9
)
gosh
>
(
for
(*
i
i
)
where
i
in
(
iota
10
))
(
0
1
4
9
16
25
36
49
64
81
)
gosh
>
(
for
(*
i
i
)
where
i
in
(
iota
10
)
(
odd
?
i
))
(
1
9
25
49
81
)
```
where
代わり
適当
区切り
文字
;
コメント
記号
|
文字
だし
:
キーワード
引数
為
記号
'
変数
名
の
個人
的
一番
何
x
x
'
let
束縛
ML
---
自分
どこ
F
#
パイプライン
演算
子
手続き
順序
上
行頭
S
式
右
左
逆
もん
```
scheme
(
define
-
syntax
pipe
(
syntax
-
rules
(>>)
((_
x
>>
f
)
(
f
x
))
((_
x
>>
f
>>
g
...)
(
pipe
(
f
x
)
>>
g
...))
))
;
gosh
>
;
(
pipe
10
;
>>
iota
;
>>
(
pa
$
filter
odd
?)
;
>>
(
pa
$
map
(^
x
(*
x
x
)))
)
;
(
1
9
25
49
81
)
```
普通
`(
map
(^
x
(*
x
x
))
(
filter
odd
?
(
iota
10
)))`
右
カッコ
内側
目
捕捉
そこ
外側
カッコ
外側
左
左
右
絶望
的
の
例
