2014
年
9
月
13
日
土曜日
17
時
50
分
38
秒
JST
===
##
Coffee
Script
リスト
内包
表記
(
list
comprehension
)
###
Basic
```
coffee
ar
=
[
1
..
10
]
(
i
for
i
in
ar
)
```
```
bash
coffee
-
bc
test
.
coffee
cat
test
.
js
```
```
javascript
//
Generated
by
CoffeeScript
1
.
7
.
1
var
ar
,
i
,
_
i
,
_
len
;
ar
=
[
1
,
2
,
3
,
4
,
5
,
6
,
7
,
8
,
9
,
10
];
for
(_
i
=
0
,
_
len
=
ar
.
length
;
_
i
<
_
len
;
_
i
++)
{
i
=
ar
[_
i
];
i
;
}
```
-
ただ
for
-
結果
-
リスト
内包
表記
括弧
結果
保存
よう
無駄
括弧
```
coffee
ar
=
[
1
..
10
]
list
=
i
for
i
in
ar
```
results
to
```
javascript
//
Generated
by
CoffeeScript
1
.
7
.
1
var
ar
,
i
,
list
,
_
i
,
_
len
;
ar
=
[
1
,
2
,
3
,
4
,
5
,
6
,
7
,
8
,
9
,
10
];
for
(_
i
=
0
,
_
len
=
ar
.
length
;
_
i
<
_
len
;
_
i
++)
{
i
=
ar
[_
i
];
list
=
i
;
}
```
確か
保存
###
ブロック
表現
```
coffee
ar
=
[
1
..
10
]
list
=
if
i
%
2
==
0
then
true
else
false
for
i
in
ar
```
results
to
```
javascript
//
Generated
by
CoffeeScript
1
.
7
.
1
var
ar
,
i
,
list
;
ar
=
[
1
,
2
,
3
,
4
,
5
,
6
,
7
,
8
,
9
,
10
];
list
=
(
function
()
{
var
_
i
,
_
len
,
_
results
;
if
(
i
%
2
===
0
)
{
return
true
;
}
else
{
_
results
=
[];
for
(_
i
=
0
,
_
len
=
ar
.
length
;
_
i
<
_
len
;
_
i
++)
{
i
=
ar
[_
i
];
_
results
.
push
(
false
);
}
return
_
results
;
}
})();
```
```
coffee
list
=
(
if
i
%
2
==
0
then
true
else
(
false
for
i
in
ar
))
```
解釈
```
coffee
list
=
(
if
i
%
2
==
0
then
true
else
false
)
for
i
in
ar
```
ん
LISP
以外
括弧
###
閑話休題
純粋
for
文
次
2
パターン
```
coffee
for
_
in
_
_
_
```
```
coffee
_
for
_
in
_
```
###
先
インデント
ブロック
表現
```
coffee
ar
=
[
1
..
10
]
list
=
for
i
in
ar
if
i
%
2
==
0
then
true
else
false
```
results
to
```
javascript
//
Generated
by
CoffeeScript
1
.
7
.
1
var
ar
,
i
,
list
;
ar
=
[
1
,
2
,
3
,
4
,
5
,
6
,
7
,
8
,
9
,
10
];
list
=
(
function
()
{
var
_
i
,
_
len
,
_
results
;
_
results
=
[];
for
(_
i
=
0
,
_
len
=
ar
.
length
;
_
i
<
_
len
;
_
i
++)
{
i
=
ar
[_
i
];
if
(
i
%
2
===
0
)
{
_
results
.
push
(
true
);
}
else
{
_
results
.
push
(
false
);
}
}
return
_
results
;
})();
```
###
continue
,
break
普通
for
同様
ブロック
表現
こと
複数
行
こと
我々
複雑
こと
命令
権利
手
```
coffee
ar
=
[
1
..
100
]
list
=
for
i
in
ar
switch
when
i
>
10
then
break
when
i
%
3
is
0
then
continue
else
i
```
results
to
```
javascript
//
Generated
by
CoffeeScript
1
.
7
.
1
var
ar
,
i
,
list
,
_
i
,
_
results
;
ar
=
(
function
()
{
_
results
=
[];
for
(_
i
=
1
;
_
i
<=
100
;
_
i
++){
_
results
.
push
(_
i
);
}
return
_
results
;
}).
apply
(
this
);
list
=
(
function
()
{
var
_
j
,
_
len
,
_
results
1
;
_
results
1
=
[];
for
(_
j
=
0
,
_
len
=
ar
.
length
;
_
j
<
_
len
;
_
j
++)
{
i
=
ar
[_
j
];
switch
(
false
)
{
case
!(
i
>
10
):
break
;
case
i
%
3
!==
0
:
continue
;
default
:
_
results
1
.
push
(
i
);
}
}
return
_
results
1
;
})();
```
`
push
`
結果
保存
簡単
>
[
1
,
2
,
4
,
5
,
7
,
8
,
10
]
